{% extends "base.html" %}

{% block title %}Sistema ENEL - Alertas{% endblock %}

{% block content %}
<h1>ğŸš¨ Sistema de Alertas ENEL</h1>

<div class="status info">
    <h3>ğŸ“± Funcionalidades de Alertas</h3>
    <ul>
        <li>âœ… Alertas de faturas pendentes via Telegram</li>
        <li>âœ… Alertas de consumo elevado automÃ¡tico</li>
        <li>âœ… Resumos mensais para administradores</li>
        <li>âœ… Envio de PDFs anexados (faturas)</li>
        <li>âœ… IntegraÃ§Ã£o com base CCB Alerta Bot</li>
        <li>âœ… Mensagens formatadas e personalizadas</li>
    </ul>
</div>

<div class="warning-box">
    <strong>âš ï¸ ConfiguraÃ§Ã£o necessÃ¡ria:</strong> Este sistema requer:
    <ul>
        <li>TELEGRAM_BOT_TOKEN configurado</li>
        <li>Administradores cadastrados na base CCB Alerta</li>
        <li>ONEDRIVE_ALERTA_ID configurado (base CCB)</li>
        <li>Planilha de relacionamento ENEL disponÃ­vel</li>
    </ul>
</div>

<h3>ğŸ§ª Testes do Sistema</h3>
<div class="text-center">
    <button onclick="testarAlertas()" class="button info">ğŸ§ª Testar Sistema Completo</button>
    <button onclick="testarConsumoAlto()" class="button warning">âš¡ Testar Alertas Consumo</button>
    <button onclick="enviarResumoAdmin()" class="button success">ğŸ“Š Enviar Resumo Admin</button>
</div>

<h3>âš™ï¸ ConfiguraÃ§Ã£o de Limites</h3>
<div class="form-group">
    <label for="limiteConsumo">Limite percentual consumo alto:</label>
    <input type="number" id="limiteConsumo" value="150" min="100" max="300" class="input">
    <small class="text-muted">% (padrÃ£o: 150%)</small>
</div>

<div id="resultado" class="mt-20"></div>

<div class="text-center mt-20">
    <a href="/" class="button secondary">ğŸ  Voltar Dashboard</a>
</div>
{% endblock %}